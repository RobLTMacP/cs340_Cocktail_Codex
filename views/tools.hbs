<!-- 
    Page design and code cited from the provided GitHub: 
    github.com/osu-cs340-ecampus/nodejs-starter-app 
-->


<h2>The Tools</h2>
<br>

{{!-- Create a table --}}
<table id="tools-table">

  {{!-- Header section --}}
  <thead>

    {{!-- For just the first row, we print each key of the row object as a header cell so we
    know what each column means when the page renders --}}
    <tr>
      {{#each data.[0]}}
      <th>
        {{@key}}
      </th>
      {{/each}}
      <th>delete</th>
    </tr>
  </thead>

  {{!-- Body section --}}
  <tbody>

    {{!-- For each row, print info in order --}}
    {{#each data}}
    <tr data-value={{this.id}}>
      <td>{{this.id}}</td>
      <td>{{this.toolName}}</td>
      <td><button class="delete-button" onclick="deleteTool({{this.id}})">Delete</button></td>
    </tr>
    {{/each}}
  </tbody>
</table>

{{!-- Form to add a record to the table --}}
<h3>Add Tool:</h3>
<form id="add-tool-form-ajax">
  <label for="input-name">Tool Name: </label>
  <input type="text" name="input-name" id="input-name">

  <br>
  <br>
  <input type="submit" class="submit-button" style="float: right;">
</form>

{{!-- Form to update a record to the table --}}
<h3>Update Tool:</h3>
<form id="update-tool-form-ajax">

  <label for="input-name">Choose Tool: </label>
  <select name="input-name" id="mySelect" onchange="populateFields(this.value)">
    <option value="">Select Tool</option>
    {{#each data}}
    <option value="{{this.id}}">{{this.toolName}}</option>
    {{/each}}
  </select>

  <label for="input-update-name"><br>Update Name: </label>
  <input type="text" name="input-update-name" id="input-update-name">

  <br>
  <br>
  <input type="submit" class="submit-button" style="float: right;">

</form>

{{!-- Embed our javascript to handle the DOM manipulation and AJAX request --}}
<script src="./js/add_tool.js"></script>
<script src="./js/delete_tool.js"></script>
<script src="./js/update_tool.js"></script>